let DEBUG=!1;var studentName,suspendData,studentScore,topicIsFinished,scormAPI=getAPIHandle();let LESSON_STATUS={notAttempted:"not attempted",incomplete:"incomplete",completed:"completed",passed:"passed",failed:"failed"},FIELDS={lessonLocation:"cmi.core.lesson_location",lessonStatus:"cmi.core.lesson_status",suspendData:"cmi.suspend_data",studentName:"cmi.core.student_name",studentId:"cmi.core.student_id",scoreRaw:"cmi.core.score.raw"};function initView(){studentName=getScormData(FIELDS.studentName),getScormData(FIELDS.lessonStatus)==LESSON_STATUS.completed&&(topicIsFinished=LESSON_STATUS.completed),suspendData=getScormData(FIELDS.suspendData),document.getElementById("studentName")&&(document.getElementById("studentName").innerHTML=studentName),finishButton()}function getScormData(e){if(scormAPI)return doLMSGetValue(e)}function setScormData(e,t,o){scormAPI&&(doLMSSetValue(e,t),o)&&doLMSCommit("")}function saveSuspendData(e){setScormData(FIELDS.suspendData,e,!0)}function finishButton(){var e=document.getElementById("finishButton");topicIsFinished==LESSON_STATUS.completed&&(e.disabled=!0,e.classList.add("disabled"),e.innerHTML='Concluído <span class="ml-1 pb-1 material-symbols-rounded"> check </span>'),e&&e.addEventListener("click",e=>{saveSuspendData(suspendData),finishTopic(),e.target.classList.remove("animate"),e.target.classList.add("animate"),setTimeout(function(){e.target.classList.remove("animate")},700)})}function finishTopic(){console.log("função finishTopic"),setScormData(FIELDS.lessonStatus,LESSON_STATUS.completed,!0),console.log("getScormData(FIELDS.lessonStatus):"),console.log(getScormData(FIELDS.lessonStatus)),topicIsFinished="completed",console.log("Tópico finalizado == btn pressed"),meuDebug(),scormAPI&&unloadPage()}function meuDebug(){DEBUG&&(console.log("GET"),console.log("suspendData:"+suspendData),console.log("getScormData(FIELDS.lessonStatus):"+getScormData(FIELDS.lessonStatus)),console.log("lessonLocation:"+getScormData(FIELDS.lessonLocation)),console.log("cmi.core.entry:"+getScormData("cmi.core.entry")),console.log("getScormData(cmi.core.student_id):"+getScormData("cmi.core.student_id")),console.log("getScormData(cmi.core.student_name):"+getScormData("cmi.core.student_name")),console.log("getScormData(cmi.core.lesson_mode):"+getScormData("cmi.core.lesson_mode")),console.log("getScormData(cmi.core.exit):"+getScormData("cmi.core.exit")),console.log("getScormData(cmi.suspend_data):"+getScormData("cmi.suspend_data")),console.log("getScormData(cmi.launch_data):"+getScormData("cmi.launch_data")))}window.onload=function(){var e;scormAPI&&(loadPage(),e=setInterval(function(){LMSIsInitialized()&&(clearInterval(e),initView(),meuDebug())}))},window.onbeforeunload=function(){scormAPI&&unloadPage()};